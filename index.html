<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIBRAN HUB | REGISTER SYSTEM</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body { background: #010409; color: #c9d1d9; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .card { background: #161b22; padding: 35px; border-radius: 15px; border: 1px solid #30363d; width: 360px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: #58a6ff; text-align: center; margin-top: 0; }
        .input-group { margin-bottom: 15px; }
        label { font-size: 11px; color: #8b949e; display: block; margin-bottom: 5px; font-weight: 700; text-transform: uppercase; }
        input { width: 100%; padding: 12px; background: #0d1117; border: 1px solid #30363d; border-radius: 8px; color: white; outline: none; }
        input:focus { border-color: #58a6ff; }
        button { width: 100%; padding: 14px; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; color: white; background: #238636; font-size: 15px; transition: 0.3s; }
        button:disabled { background: #1b4d25; cursor: not-allowed; }
        #status { font-size: 13px; text-align: center; margin-top: 15px; padding: 10px; border-radius: 6px; display: none; }
        .loading { display: block !important; background: rgba(240, 224, 66, 0.1); color: #f0e042; }
        .success { display: block !important; background: rgba(46, 160, 67, 0.1); color: #3fb950; }
        .error { display: block !important; background: rgba(248, 81, 73, 0.1); color: #f85149; }
    </style>
</head>
<body>

<div class="card">
    <h2>GIBRAN HUB</h2>
    <div id="status"></div>
    
    <div class="input-group">
        <label>Nama Lengkap</label>
        <input type="text" id="nama" placeholder="Contoh: Muhammad Gibran">
    </div>
    <div class="input-group">
        <label>Nomor WhatsApp</label>
        <input type="tel" id="wa" placeholder="0812xxxx">
    </div>
    <div class="input-group">
        <label>Alamat Lengkap</label>
        <input type="text" id="alamat" placeholder="Jalan ...">
    </div>
    <div class="input-group">
        <label>Password</label>
        <input type="password" id="pass" placeholder="••••••••">
    </div>
    
    <button id="btnSimpan" onclick="simpanAkun()">SIMPAN PENDAFTARAN</button>
</div>

<script>
    const apiURL = 'https://sheetdb.io/api/v1/jy19m4udkidqn';

    function setStatus(text, className) {
        const s = document.getElementById('status');
        s.innerText = text;
        s.className = className;
    }

    async function simpanAkun() {
        const n = document.getElementById('nama').value;
        const w = document.getElementById('wa').value;
        const a = document.getElementById('alamat').value;
        const p = document.getElementById('pass').value;
        const btn = document.getElementById('btnSimpan');

        if(!n || !w || !a || !p) return alert("Isi semua dulu, Bro!");

        setStatus("Sedang memproses...", "loading");
        btn.disabled = true;

        try {
            const response = await fetch(`${apiURL}?sheet=daftar%20akun`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ "data": [{ "nama": n, "wa": w, "alamat": a, "password": p }] })
            });

            const result = await response.json();

            if (result.created) {
                setStatus("✓ DATA BERHASIL DISIMPAN!", "success");
                alert("Sukses! Data lo udah masuk ke Google Sheet.");
                document.querySelectorAll('input').forEach(i => i.value = '');
            } else {
                throw new Error("Gagal menyimpan");
            }
        } catch (err) {
            setStatus("❌ ERROR: Cek Koneksi / API", "error");
            console.error(err);
        } finally {
            btn.disabled = false;
        }
    }
</script>
</body>
</html>
